# Plan for 2024年のプライム上場企業のデータ分析して可視化

- [pending] Task 1: ライブラリのインポートと環境設定（警告抑制・ロギング初期化・乱数シード固定） (id: 58711573-ead5-4bca-964f-e732c08d3b4e)
- [pending] Task 2: 設定値とディレクトリの準備（年=2024、入出力パス、キャッシュ有無、プロキシ/UAなど） (id: b5cd7b27-7af9-4bda-81e9-241f0d96eaa1)
- [pending] Task 3: ユーティリティ関数の実装：HTTPダウンロード（リトライ・指数バックオフ・ユーザーエージェント・タイムアウト）、文字コード自動判定、堅牢なCSV/TSV読み込み、ファイルキャッシュI/O (id: 9df47325-a953-489c-ac46-1db23f1acdf4)
- [pending] Task 4: 2024年時点の東証プライム上場企業リストの取得：公式CSVの探索・ダウンロード（失敗時はローカル代替ファイルを使用） (id: d61f835b-6845-46d4-84af-038421a877cc)
- [pending] Task 5: 取得データの読み込みとスキーマ正規化（文字コード検出、列名の標準化、データ型変換、不要列の除去、重複排除、プライム銘柄フィルタリング） (id: bc4f5839-79d7-43e7-b18a-9cbd83e5b138)
- [pending] Task 6: データ品質検証（必須列の存在確認［証券コード、銘柄名、業種/セクター、上場市場など］、2024年スナップショット整合、件数やユニーク性のサニティチェック） (id: d3edb1cc-4f3f-4ffa-96b2-242abc598568)
- [pending] Task 7: yfinance用ティッカー生成（4桁コードのゼロ埋めと拡張子'.T'付与、無効コードの検出・除外） (id: c4190e51-8af5-45f4-92c7-6a28308356bd)
- [pending] Task 8: 2024年の株価時系列データ取得（yfinanceで日次OHLCV・銘柄情報、バッチ処理、キャッシュ、リトライ、レート制御、欠損・エラー処理） (id: 81cc5eed-d40d-40b1-8ce4-b2d408b8b1c3)
- [pending] Task 9: 市場データからの指標計算（2024年リターン、年率ボラティリティ、平均出来高、2024年末の時価総額・終値、最大ドローダウン等） (id: 7d655402-d5b4-47a5-aff5-c1da0a0ffe09)
- [pending] Task 10: 企業リストと計算済み市場指標の結合（コード/ティッカーで結合、重複キーの解消、結合後のレコード整合性チェック） (id: 048caf60-dc1b-44fa-b243-2f6594392204)
- [pending] Task 11: 欠損値・外れ値処理（主要数値列の欠損補完方針、ウィンザ化やクリッピング、必要に応じたログ変換） (id: 108467ca-fe16-4fc6-912b-6a0ee879420e)
- [pending] Task 12: 集計と要約統計の作成（全体・業種/セクター別の件数、中央値・分位、トップN抽出、相関行列） (id: 8c13a961-a90a-4988-af91-cedb80f7e9f7)
- [pending] Task 13: 可視化の作成と保存（業種別銘柄数バー、時価総額の箱ひげ、時価総額対リターン散布、相関ヒートマップ、セクター×時価総額ツリーマップ） (id: b11ceadd-bc51-4c97-b65b-eff7b7131378)
- [pending] Task 14: 成果物のエクスポート（整形済みデータをCSV/Parquetに保存、図表をPNG/HTMLで保存、処理メタデータJSONの書き出し） (id: 9d42594f-3085-406f-b588-fc69ac302218)
- [pending] Task 15: 再現性と監査のためのメタ情報記録（データ取得日時、データ源、ライブラリバージョン、行数・列数、フィルタ条件の保存） (id: a11fa02e-39a7-49c0-9efa-ff9e17ecf3f9)
- [pending] Task 16: 簡易ユニットテストとパイプラインのサニティチェック（関数別テスト、主要指標の非負性や範囲チェック、可視化ファイルの存在確認） (id: 6876d10e-960e-4007-a586-4caae57cbb4b)
